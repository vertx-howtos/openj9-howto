<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Running Eclipse Vert.x applications with Eclipse OpenJ9 | Eclipse Vert.x how-to</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
    crossorigin="anonymous">
  <link rel="icon" type="image/svg+xml" href="assets/images/vertx-square.svg">
</head>

<body>


<nav class="navbar navbar-expand-lg sticky-top navbar-dark bg-purple mb-4 shadow-sm">
  <a class="navbar-brand" href="/">
    <img src="assets/images/vertx-square.svg" alt="Vert.x" width="40" height="40">
    &nbsp; Eclipse Vert.x how-to
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
    aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="https://vertx.io/docs/"><i class="fas fa-lg fa-drafting-compass"></i> Vert.x docs</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/vertx-howtos/openj9-howto"><i class="fab fa-lg fa-github"></i> Source
          code</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/vertx-howtos/openj9-howto/edit/master/README.adoc"><i
            class="far fa-lg fa-edit"></i>
          Edit this</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container">

  <div class="row">
    <div class="col">
      <h1>Running Eclipse Vert.x applications with Eclipse OpenJ9</h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This how-to provides some tips for running Vert.x applications with <a href="https://www.eclipse.org/openj9/">OpenJ9</a>, an alternative Java Virtual Machine built on top of OpenJDK that is gentle on memory usage.</p>
</div>
<div class="paragraph">
<p>Vert.x is a resource-efficient toolkit for building all kinds of modern distributed applications, and OpenJ9 is a resource-efficient runtime that is well-suited for virtualized and containerized deployments.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-you-will-build-and-run">What you will build and run</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>You will build a simple micro-service that computes the sum of 2 numbers through a HTTP JSON endpoint.</p>
</li>
<li>
<p>We will look at the options for improving startup time with OpenJ9.</p>
</li>
<li>
<p>We will measure the <a href="https://en.wikipedia.org/wiki/Resident_set_size">resident set size</a> memory footprint on OpenJ9 under a workload.</p>
</li>
<li>
<p>You will build a Docker image for the micro-service and OpenJ9.</p>
</li>
<li>
<p>We will discuss how to improve the startup time of Docker containers and how to tune OpenJ9 in that environment.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-you-need">What you need</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>A text editor or IDE</p>
</li>
<li>
<p>Java 8 higher</p>
</li>
<li>
<p>OpenJ9 (we recommend a build from <a href="https://adoptopenjdk.net/">AdoptOpenJDK</a>)</p>
</li>
<li>
<p>Maven or Gradle</p>
</li>
<li>
<p>Docker</p>
</li>
<li>
<p><a href="https://locust.io/">Locust</a> to generate some workload</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-project">Create a project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The code of this project contains Maven and Gradle build files that are functionally equivalent.</p>
</div>
<div class="sect2">
<h3 id="with-gradle">With Gradle</h3>
<div class="paragraph">
<p>Here is the content of the <code>build.gradle.kts</code> file that you should be using:</p>
</div>
<div class="listingblock collapsed">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="kotlin"><span style="color: #990000;font-weight: bold">plugins</span> <span style="background-color: #f8f8f8">{</span>
  <span style="background-color: #f8f8f8">java</span>
  <span style="background-color: #f8f8f8">application</span>
  <span style="color: #990000;font-weight: bold">id</span><span style="background-color: #f8f8f8">(</span><span style="color: #d14">"com.github.johnrengelman.shadow"</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">version</span> <span style="color: #d14">"5.0.0"</span>
<span style="background-color: #f8f8f8">}</span>

<span style="color: #990000;font-weight: bold">repositories</span> <span style="background-color: #f8f8f8">{</span>
  <span style="color: #990000;font-weight: bold">mavenCentral</span><span style="background-color: #f8f8f8">()</span>
<span style="background-color: #f8f8f8">}</span>

<span style="color: #990000;font-weight: bold">dependencies</span> <span style="background-color: #f8f8f8">{</span>
  <span style="color: #000000;font-weight: bold">val</span> <span style="background-color: #f8f8f8">vertxVersion</span> <span style="background-color: #f8f8f8">=</span> <span style="color: #d14">"3.7.0"</span>
  <span style="color: #990000;font-weight: bold">implementation</span><span style="background-color: #f8f8f8">(</span><span style="color: #d14">"io.vertx:vertx-web:${vertxVersion}"</span><span style="background-color: #f8f8f8">)</span>
<span style="background-color: #f8f8f8">}</span>

<span style="color: #990000;font-weight: bold">application</span> <span style="background-color: #f8f8f8">{</span>
  <span style="background-color: #f8f8f8">mainClassName</span> <span style="background-color: #f8f8f8">=</span> <span style="color: #d14">"io.vertx.howtos.openj9.Main"</span>
<span style="background-color: #f8f8f8">}</span>

<span style="background-color: #f8f8f8">tasks</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">wrapper</span> <span style="background-color: #f8f8f8">{</span>
  <span style="background-color: #f8f8f8">gradleVersion</span> <span style="background-color: #f8f8f8">=</span> <span style="color: #d14">"5.4.1"</span>
<span style="background-color: #f8f8f8">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="with-maven">With Maven</h3>
<div class="listingblock collapsed">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="xml"><span style="color: #999999;font-weight: bold">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span style="color: #000080">&lt;project</span> <span style="color: #008080">xmlns=</span><span style="color: #d14">"http://maven.apache.org/POM/4.0.0"</span>
         <span style="color: #008080">xmlns:xsi=</span><span style="color: #d14">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span style="color: #008080">xsi:schemaLocation=</span><span style="color: #d14">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span style="color: #000080">&gt;</span>

  <span style="color: #000080">&lt;modelVersion&gt;</span>4.0.0<span style="color: #000080">&lt;/modelVersion&gt;</span>

  <span style="color: #000080">&lt;groupId&gt;</span>io.vertx.howtos<span style="color: #000080">&lt;/groupId&gt;</span>
  <span style="color: #000080">&lt;artifactId&gt;</span>openj9-howto<span style="color: #000080">&lt;/artifactId&gt;</span>
  <span style="color: #000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color: #000080">&lt;/version&gt;</span>

  <span style="color: #000080">&lt;properties&gt;</span>
    <span style="color: #000080">&lt;vertx.version&gt;</span>3.7.0<span style="color: #000080">&lt;/vertx.version&gt;</span>
    <span style="color: #000080">&lt;maven.compiler.source&gt;</span>1.8<span style="color: #000080">&lt;/maven.compiler.source&gt;</span>
    <span style="color: #000080">&lt;maven.compiler.target&gt;</span>1.8<span style="color: #000080">&lt;/maven.compiler.target&gt;</span>
  <span style="color: #000080">&lt;/properties&gt;</span>

  <span style="color: #000080">&lt;dependencyManagement&gt;</span>
    <span style="color: #000080">&lt;dependencies&gt;</span>
      <span style="color: #000080">&lt;dependency&gt;</span>
        <span style="color: #000080">&lt;groupId&gt;</span>io.vertx<span style="color: #000080">&lt;/groupId&gt;</span>
        <span style="color: #000080">&lt;artifactId&gt;</span>vertx-stack-depchain<span style="color: #000080">&lt;/artifactId&gt;</span>
        <span style="color: #000080">&lt;version&gt;</span>${vertx.version}<span style="color: #000080">&lt;/version&gt;</span>
        <span style="color: #000080">&lt;type&gt;</span>pom<span style="color: #000080">&lt;/type&gt;</span>
        <span style="color: #000080">&lt;scope&gt;</span>import<span style="color: #000080">&lt;/scope&gt;</span>
      <span style="color: #000080">&lt;/dependency&gt;</span>
    <span style="color: #000080">&lt;/dependencies&gt;</span>
  <span style="color: #000080">&lt;/dependencyManagement&gt;</span>

  <span style="color: #000080">&lt;dependencies&gt;</span>
    <span style="color: #000080">&lt;dependency&gt;</span>
      <span style="color: #000080">&lt;groupId&gt;</span>io.vertx<span style="color: #000080">&lt;/groupId&gt;</span>
      <span style="color: #000080">&lt;artifactId&gt;</span>vertx-core<span style="color: #000080">&lt;/artifactId&gt;</span>
    <span style="color: #000080">&lt;/dependency&gt;</span>
    <span style="color: #000080">&lt;dependency&gt;</span>
      <span style="color: #000080">&lt;groupId&gt;</span>io.vertx<span style="color: #000080">&lt;/groupId&gt;</span>
      <span style="color: #000080">&lt;artifactId&gt;</span>vertx-web<span style="color: #000080">&lt;/artifactId&gt;</span>
    <span style="color: #000080">&lt;/dependency&gt;</span>
    <span style="color: #000080">&lt;dependency&gt;</span>
      <span style="color: #000080">&lt;groupId&gt;</span>io.vertx<span style="color: #000080">&lt;/groupId&gt;</span>
      <span style="color: #000080">&lt;artifactId&gt;</span>vertx-web-api-contract<span style="color: #000080">&lt;/artifactId&gt;</span>
    <span style="color: #000080">&lt;/dependency&gt;</span>
  <span style="color: #000080">&lt;/dependencies&gt;</span>

  <span style="color: #000080">&lt;build&gt;</span>
    <span style="color: #000080">&lt;plugins&gt;</span>
      <span style="color: #000080">&lt;plugin&gt;</span>
        <span style="color: #000080">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color: #000080">&lt;/groupId&gt;</span>
        <span style="color: #000080">&lt;artifactId&gt;</span>maven-shade-plugin<span style="color: #000080">&lt;/artifactId&gt;</span>
        <span style="color: #000080">&lt;version&gt;</span>3.2.1<span style="color: #000080">&lt;/version&gt;</span>
        <span style="color: #000080">&lt;configuration&gt;</span>
          <span style="color: #000080">&lt;transformers&gt;</span>
            <span style="color: #000080">&lt;transformer</span> <span style="color: #008080">implementation=</span><span style="color: #d14">"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer"</span><span style="color: #000080">&gt;</span>
              <span style="color: #000080">&lt;mainClass&gt;</span>io.vertx.howtos.openj9.Main<span style="color: #000080">&lt;/mainClass&gt;</span>
            <span style="color: #000080">&lt;/transformer&gt;</span>
          <span style="color: #000080">&lt;/transformers&gt;</span>
        <span style="color: #000080">&lt;/configuration&gt;</span>
        <span style="color: #000080">&lt;executions&gt;</span>
          <span style="color: #000080">&lt;execution&gt;</span>
            <span style="color: #000080">&lt;phase&gt;</span>package<span style="color: #000080">&lt;/phase&gt;</span>
            <span style="color: #000080">&lt;goals&gt;</span>
              <span style="color: #000080">&lt;goal&gt;</span>shade<span style="color: #000080">&lt;/goal&gt;</span>
            <span style="color: #000080">&lt;/goals&gt;</span>
          <span style="color: #000080">&lt;/execution&gt;</span>
        <span style="color: #000080">&lt;/executions&gt;</span>
      <span style="color: #000080">&lt;/plugin&gt;</span>
    <span style="color: #000080">&lt;/plugins&gt;</span>
  <span style="color: #000080">&lt;/build&gt;</span>

<span style="color: #000080">&lt;/project&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="writing-the-service">Writing the service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The service exposes a HTTP server and fits within a single Java class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="java"><span style="color: #000000;font-weight: bold">package</span> <span style="color: #555555">io.vertx.howtos.openj9</span><span style="color: #000000;font-weight: bold">;</span>

<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">io.vertx.core.AbstractVerticle</span><span style="color: #000000;font-weight: bold">;</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">io.vertx.core.Future</span><span style="color: #000000;font-weight: bold">;</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">io.vertx.core.Vertx</span><span style="color: #000000;font-weight: bold">;</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">io.vertx.core.json.JsonObject</span><span style="color: #000000;font-weight: bold">;</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">io.vertx.ext.web.Router</span><span style="color: #000000;font-weight: bold">;</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">io.vertx.ext.web.RoutingContext</span><span style="color: #000000;font-weight: bold">;</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">io.vertx.ext.web.handler.BodyHandler</span><span style="color: #000000;font-weight: bold">;</span>

<span style="color: #000000;font-weight: bold">public</span> <span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">Main</span> <span style="color: #000000;font-weight: bold">extends</span> <span style="color: #445588;font-weight: bold">AbstractVerticle</span> <span style="color: #000000;font-weight: bold">{</span>

  <span style="color: #000000;font-weight: bold">private</span> <span style="color: #000000;font-weight: bold">static</span> <span style="color: #445588;font-weight: bold">long</span> <span style="background-color: #f8f8f8">startTime</span><span style="color: #000000;font-weight: bold">;</span>

  <span style="color: #3c5d5d;font-weight: bold">@Override</span>
  <span style="color: #000000;font-weight: bold">public</span> <span style="color: #445588;font-weight: bold">void</span> <span style="color: #990000;font-weight: bold">start</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #445588;font-weight: bold">Future</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="color: #445588;font-weight: bold">Void</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="background-color: #f8f8f8">future</span><span style="color: #000000;font-weight: bold">)</span> <span style="color: #000000;font-weight: bold">{</span>
    <span style="color: #445588;font-weight: bold">Router</span> <span style="background-color: #f8f8f8">router</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #445588;font-weight: bold">Router</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">router</span><span style="color: #000000;font-weight: bold">(</span><span style="background-color: #f8f8f8">vertx</span><span style="color: #000000;font-weight: bold">);</span>
    <span style="background-color: #f8f8f8">router</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">post</span><span style="color: #000000;font-weight: bold">().</span><span style="color: #008080">handler</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #445588;font-weight: bold">BodyHandler</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">create</span><span style="color: #000000;font-weight: bold">());</span>
    <span style="background-color: #f8f8f8">router</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">post</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #d14">"/sum"</span><span style="color: #000000;font-weight: bold">).</span><span style="color: #008080">handler</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #000000;font-weight: bold">this</span><span style="color: #000000;font-weight: bold">::</span><span style="background-color: #f8f8f8">sum</span><span style="color: #000000;font-weight: bold">);</span>

    <span style="background-color: #f8f8f8">vertx</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">createHttpServer</span><span style="color: #000000;font-weight: bold">()</span>
      <span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">requestHandler</span><span style="color: #000000;font-weight: bold">(</span><span style="background-color: #f8f8f8">router</span><span style="color: #000000;font-weight: bold">)</span>
      <span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">listen</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #009999">8080</span><span style="color: #000000;font-weight: bold">,</span> <span style="background-color: #f8f8f8">ar</span> <span style="color: #000000;font-weight: bold">-&gt;</span> <span style="color: #000000;font-weight: bold">{</span>
        <span style="color: #000000;font-weight: bold">if</span> <span style="color: #000000;font-weight: bold">(</span><span style="background-color: #f8f8f8">ar</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">succeeded</span><span style="color: #000000;font-weight: bold">())</span> <span style="color: #000000;font-weight: bold">{</span>
          <span style="color: #445588;font-weight: bold">System</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">out</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">println</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #d14">"Started in "</span> <span style="color: #000000;font-weight: bold">+</span> <span style="color: #000000;font-weight: bold">(</span><span style="color: #445588;font-weight: bold">System</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">currentTimeMillis</span><span style="color: #000000;font-weight: bold">()</span> <span style="color: #000000;font-weight: bold">-</span> <span style="background-color: #f8f8f8">startTime</span><span style="color: #000000;font-weight: bold">)</span> <span style="color: #000000;font-weight: bold">+</span> <span style="color: #d14">"ms"</span><span style="color: #000000;font-weight: bold">);</span>
        <span style="color: #000000;font-weight: bold">}</span> <span style="color: #000000;font-weight: bold">else</span> <span style="color: #000000;font-weight: bold">{</span>
          <span style="background-color: #f8f8f8">ar</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">cause</span><span style="color: #000000;font-weight: bold">().</span><span style="color: #008080">printStackTrace</span><span style="color: #000000;font-weight: bold">();</span>
        <span style="color: #000000;font-weight: bold">}</span>
      <span style="color: #000000;font-weight: bold">});</span>
  <span style="color: #000000;font-weight: bold">}</span>

  <span style="color: #000000;font-weight: bold">private</span> <span style="color: #445588;font-weight: bold">void</span> <span style="color: #990000;font-weight: bold">sum</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #445588;font-weight: bold">RoutingContext</span> <span style="background-color: #f8f8f8">context</span><span style="color: #000000;font-weight: bold">)</span> <span style="color: #000000;font-weight: bold">{</span>
    <span style="color: #445588;font-weight: bold">JsonObject</span> <span style="background-color: #f8f8f8">input</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">context</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">getBodyAsJson</span><span style="color: #000000;font-weight: bold">();</span>

    <span style="color: #445588;font-weight: bold">Integer</span> <span style="background-color: #f8f8f8">a</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">input</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">getInteger</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #d14">"a"</span><span style="color: #000000;font-weight: bold">,</span> <span style="color: #009999">0</span><span style="color: #000000;font-weight: bold">);</span>
    <span style="color: #445588;font-weight: bold">Integer</span> <span style="background-color: #f8f8f8">b</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">input</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">getInteger</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #d14">"b"</span><span style="color: #000000;font-weight: bold">,</span> <span style="color: #009999">0</span><span style="color: #000000;font-weight: bold">);</span>

    <span style="color: #445588;font-weight: bold">JsonObject</span> <span style="background-color: #f8f8f8">response</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">new</span> <span style="color: #445588;font-weight: bold">JsonObject</span><span style="color: #000000;font-weight: bold">().</span><span style="color: #008080">put</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #d14">"sum"</span><span style="color: #000000;font-weight: bold">,</span> <span style="background-color: #f8f8f8">a</span> <span style="color: #000000;font-weight: bold">+</span> <span style="background-color: #f8f8f8">b</span><span style="color: #000000;font-weight: bold">);</span>

    <span style="background-color: #f8f8f8">context</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">response</span><span style="color: #000000;font-weight: bold">()</span>
      <span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">putHeader</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #d14">"Content-Type"</span><span style="color: #000000;font-weight: bold">,</span> <span style="color: #d14">"application/json"</span><span style="color: #000000;font-weight: bold">)</span>
      <span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">end</span><span style="color: #000000;font-weight: bold">(</span><span style="background-color: #f8f8f8">response</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">encode</span><span style="color: #000000;font-weight: bold">());</span>
  <span style="color: #000000;font-weight: bold">}</span>

  <span style="color: #000000;font-weight: bold">public</span> <span style="color: #000000;font-weight: bold">static</span> <span style="color: #445588;font-weight: bold">void</span> <span style="color: #990000;font-weight: bold">main</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #445588;font-weight: bold">String</span><span style="color: #000000;font-weight: bold">[]</span> <span style="background-color: #f8f8f8">args</span><span style="color: #000000;font-weight: bold">)</span> <span style="color: #000000;font-weight: bold">{</span>
    <span style="background-color: #f8f8f8">startTime</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #445588;font-weight: bold">System</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">currentTimeMillis</span><span style="color: #000000;font-weight: bold">();</span>
    <span style="color: #445588;font-weight: bold">Vertx</span> <span style="background-color: #f8f8f8">vertx</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #445588;font-weight: bold">Vertx</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">vertx</span><span style="color: #000000;font-weight: bold">();</span>
    <span style="background-color: #f8f8f8">vertx</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">deployVerticle</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #000000;font-weight: bold">new</span> <span style="color: #445588;font-weight: bold">Main</span><span style="color: #000000;font-weight: bold">());</span>
  <span style="color: #000000;font-weight: bold">}</span>
<span style="color: #000000;font-weight: bold">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We can run the service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ./gradlew run</pre>
</div>
</div>
<div class="paragraph">
<p>and then test it with <a href="https://httpie.org/">HTTPie</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ http :8080/sum a:=1 b:=2
HTTP/1.1 200 OK
Content-Type: application/json
content-length: 9

{
    "sum": 3
}

$</pre>
</div>
</div>
<div class="paragraph">
<p>We can also build a JAR archive will all dependencies bundled, then execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ./gradlew shadowJar
$ java -jar build/libs/openj9-howto-all.jar</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="improving-startup-time">Improving startup time</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The micro-service reports the startup time by measuring the time between the <code>main</code> method entry, and the callback notification when the HTTP server has started.</p>
</div>
<div class="paragraph">
<p>We can do a few runs of <code>java -jar build/libs/openj9-howto-all.jar</code> and pick the best time.
On my machine the best I got was <strong>639ms</strong>.</p>
</div>
<div class="paragraph">
<p>OpenJ9 offers both an ahead-of-time compiler and a class data shared cache for improving startup time as well as reducing memory consumption.
The first run is typical costly, but then all subsequent runs will benefit from the caches, which are also regularly updated.</p>
</div>
<div class="paragraph">
<p>The relevant OpenJ9 flags are the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-Xshareclasses</code>: enable class sharing</p>
</li>
<li>
<p><code>-Xshareclasses:name=NAME</code>: a name for the cache, typically one per-application</p>
</li>
<li>
<p><code>-Xshareclasses:cacheDir=DIR</code>: a folder for storing the cache files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let us have a few run of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ java -Xshareclasses -Xshareclasses:name=sum -Xshareclasses:cacheDir=_cache -jar build/libs/openj9-howto-all.jar</pre>
</div>
</div>
<div class="paragraph">
<p>On my machine the first run takes <strong>1098ms</strong>, which is way more than <strong>639ms</strong>!
However the next runs are all near <strong>300ms</strong>, with a best score of <strong>293ms</strong> which is very good for a JVM application start time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="memory-usage">Memory usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let us now measure the memory usage of the micro-service with OpenJ9 and compare with OpenJDK.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
This is not a rigorous benchmark.
You have been warned 😉
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="generate-some-workload">Generate some workload</h3>
<div class="paragraph">
<p>We are using Locust to generate some workload.
The <code>locustfile.py</code> file contains the code to simulate users that perform sums of random numbers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="python"><span style="color: #000000;font-weight: bold">from</span> <span style="color: #555555">locust</span> <span style="color: #000000;font-weight: bold">import</span> <span style="color: #000000;font-weight: bold">*</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">random</span>
<span style="color: #000000;font-weight: bold">import</span> <span style="color: #555555">json</span>

<span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">Client</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">TaskSet</span><span style="background-color: #f8f8f8">):</span>

    <span style="color: #000000;font-weight: bold">@</span><span style="background-color: #f8f8f8">task</span>
    <span style="color: #000000;font-weight: bold">def</span> <span style="color: #990000;font-weight: bold">ping</span><span style="background-color: #f8f8f8">(</span><span style="color: #999999">self</span><span style="background-color: #f8f8f8">):</span>
        <span style="background-color: #f8f8f8">data</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">json</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">dumps</span><span style="background-color: #f8f8f8">({</span><span style="color: #d14">"a"</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">random</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">randint</span><span style="background-color: #f8f8f8">(</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">100</span><span style="background-color: #f8f8f8">),</span> <span style="color: #d14">"b"</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">random</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">randint</span><span style="background-color: #f8f8f8">(</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">100</span><span style="background-color: #f8f8f8">)})</span>
        <span style="color: #999999">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">client</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">post</span><span style="background-color: #f8f8f8">(</span><span style="color: #d14">"http://localhost:8080/sum"</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">data</span><span style="color: #000000;font-weight: bold">=</span><span style="background-color: #f8f8f8">data</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">=</span><span style="color: #d14">"Sum"</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">headers</span><span style="color: #000000;font-weight: bold">=</span><span style="background-color: #f8f8f8">{</span><span style="color: #d14">"content-type"</span><span style="background-color: #f8f8f8">:</span> <span style="color: #d14">"application/json"</span><span style="background-color: #f8f8f8">})</span>


<span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">Client</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">HttpLocust</span><span style="background-color: #f8f8f8">):</span>
    <span style="background-color: #f8f8f8">task_set</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">Client</span>
    <span style="background-color: #f8f8f8">host</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">"localhost"</span>
    <span style="background-color: #f8f8f8">min_wait</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">500</span>
    <span style="background-color: #f8f8f8">max_wait</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">1000</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We can then run <code>locust</code>, and connect to <a href="http://localhost:8089" class="bare">http://localhost:8089</a> to start a test.
Let us simulate 100 users with a 10 new users per second hatch rate.
This gives us about 130 requests per second.</p>
</div>
</div>
<div class="sect2">
<h3 id="measuring-rss">Measuring RSS</h3>
<div class="paragraph">
<p>The <a href="https://quarkus.io/guides/performance-measure">Quarkus team has a good guide on measuring RSS</a>.
On Linux you can use either <code>ps</code> or <code>pmap</code> to measure RSS, while on macOS <code>ps</code> will do.
I am using macOS, so once I have the process id of a running application I can get its RSS as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ps x -o pid,rss,command -p 99425
  PID  RSS   COMMAND
99425  89844 java -jar build/libs/openj9-howto-all.jar</pre>
</div>
</div>
<div class="paragraph">
<p>For all measures we start Locust and let it warm up the micro-service.
After a minute we reset the stats and restart a test, then look into RSS and 99% latency.
We will try to run the application with no tuning and then by limiting the maximum heap size (see the <code>-Xmx</code> flag).</p>
</div>
<div class="paragraph">
<p>With OpenJDK 11 and no tuning:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RSS: ~446 MB</p>
</li>
<li>
<p>99% latency: 8ms</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With OpenJDK 11 and <code>-Xmx8m</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RSS: ~111 MB</p>
</li>
<li>
<p>99% latency: 8ms</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With OpenJ9/OpenJDK 11 and no tuning:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RSS: ~84 MB</p>
</li>
<li>
<p>99% latency: 8ms</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With OpenJ9/OpenJDK 11 and <code>-Xmx8m</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RSS: ~63 MB</p>
</li>
<li>
<p>99% latency: 9ms</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>OpenJ9 is clearly very efficient with respect to memory consumption, without compromising the latency.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>As usual take these numbers with a grain of salt and perform your own measures on your own services with a workload that is appropriate to your usages.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-and-running-a-docker-image">Building and running a Docker image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ok so we have seen how gentle OpenJ9 was on memory even without tuning.
Let us now package the micro-service as a Docker image.</p>
</div>
<div class="paragraph">
<p>Here is the <code>Dockerfile</code> you can use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="text">FROM adoptopenjdk/openjdk12-openj9:alpine-slim
RUN mkdir -p /app/_cache
COPY build/libs/openj9-howto-all.jar /app/app.jar
VOLUME /app/_cache
EXPOSE 8080
CMD ["java", "-Xvirtualized", "-Xshareclasses", "-Xshareclasses:name=sum", "-Xshareclasses:cacheDir=/app/_cache", "-jar", "/app/app.jar"]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can note:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-Xvirtualized</code> is a flag for virtualized / container environments so OpenJ9 reduces CPU consumption when idle</p>
</li>
<li>
<p><code>/app/_cache</code> is a volume that will have to be mounted for containers to share the OpenJ9 classes cache.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The image can be built as in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ docker build . -t openj9-app</pre>
</div>
</div>
<div class="paragraph">
<p>We can then create containers from the image:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ docker run -it --rm -v /tmp/_cache:/app/_cache -p 8080:8080 openj9-app</pre>
</div>
</div>
<div class="paragraph">
<p>Again the first container is slower to start, while the next ones benefit from the cache.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>On some platforms <code>cgroups</code> may not grant permissions to access the class data cache directory.
You can use the <code>z</code> flag to fix such issues, as in:</p>
</div>
<div class="paragraph">
<p><code>docker (&#8230;&#8203;) -v /tmp/_cache:/app/_cache:z (&#8230;&#8203;)</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary">Summary</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>We wrote a micro-service with Vert.x.</p>
</li>
<li>
<p>We ran this micro-service on OpenJ9.</p>
</li>
<li>
<p>We improved startup time using class data sharing.</p>
</li>
<li>
<p>We put the microservice under some workload, then checked that the memory footprint remained low with OpenJ9 compared to OpenJDK with HotSpot.</p>
</li>
<li>
<p>We built a Docker image with OpenJ9, class data sharing for fast container boot time and diminished CPU usage when idle.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="see-also">See also</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.eclipse.org/openj9/docs/">OpenJ9 documentation</a></p>
</li>
<li>
<p><a href="https://www.eclipse.org/openj9/oj9_performance.html">OpenJ9 performance</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/r/adoptopenjdk/openjdk12-openj9">AdoptOpenJDK OpenJ9 / OpenJDK 12 Docker image</a></p>
</li>
</ul>
</div>
</div>
</div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <!-- Sharingbutton Facebook -->
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https://vertx-howtos.github.io/openj9-howto" target="_blank"
    rel="noopener" aria-label="">
    <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small">
        <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z" />
                </svg>
        </div>
    </div>
</a>

<!-- Sharingbutton Twitter -->
<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Running%20Eclipse%20Vert.x%20applications%20with%20Eclipse%20OpenJ9&amp;url=https://vertx-howtos.github.io/openj9-howto"
    target="_blank" rel="noopener" aria-label="">
    <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
        <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z" />
                </svg>
        </div>
    </div>
</a>

<!-- Sharingbutton E-Mail -->
<a class="resp-sharing-button__link" href="mailto:?subject=Running%20Eclipse%20Vert.x%20applications%20with%20Eclipse%20OpenJ9&amp;body=https://vertx-howtos.github.io/openj9-howto" target="_self" rel="noopener"
    aria-label="">
    <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small">
        <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z" />
                </svg>
        </div>
    </div>
</a>

<!-- Sharingbutton LinkedIn -->
<a class="resp-sharing-button__link"
    href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://vertx-howtos.github.io/openj9-howto&amp;title=Running%20Eclipse%20Vert.x%20applications%20with%20Eclipse%20OpenJ9&amp;summary=Running%20Eclipse%20Vert.x%20applications%20with%20Eclipse%20OpenJ9&amp;source=https://vertx-howtos.github.io/openj9-howto"
    target="_blank" rel="noopener" aria-label="">
    <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small">
        <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z" />
                </svg>
        </div>
    </div>
</a>

<!-- Sharingbutton Reddit -->
<a class="resp-sharing-button__link"
    href="https://reddit.com/submit/?url=https://vertx-howtos.github.io/openj9-howto&amp;resubmit=true&amp;title=Running%20Eclipse%20Vert.x%20applications%20with%20Eclipse%20OpenJ9" target="_blank" rel="noopener"
    aria-label="">
    <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small">
        <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z" />
                </svg>
        </div>
    </div>
</a>

<!-- Sharingbutton WhatsApp -->
<a class="resp-sharing-button__link" href="whatsapp://send?text=Running%20Eclipse%20Vert.x%20applications%20with%20Eclipse%20OpenJ9%20https://vertx-howtos.github.io/openj9-howto" target="_blank" rel="noopener"
    aria-label="">
    <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small">
        <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z" />
                </svg>
        </div>
    </div>
</a>

<!-- Sharingbutton Telegram -->
<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=Running%20Eclipse%20Vert.x%20applications%20with%20Eclipse%20OpenJ9&amp;url=https://vertx-howtos.github.io/openj9-howto"
    target="_blank" rel="noopener" aria-label="">
    <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small">
        <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M.707 8.475C.275 8.64 0 9.508 0 9.508s.284.867.718 1.03l5.09 1.897 1.986 6.38a1.102 1.102 0 0 0 1.75.527l2.96-2.41a.405.405 0 0 1 .494-.013l5.34 3.87a1.1 1.1 0 0 0 1.046.135 1.1 1.1 0 0 0 .682-.803l3.91-18.795A1.102 1.102 0 0 0 22.5.075L.706 8.475z" />
                </svg>
        </div>
    </div>
</a>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <hr>
      <p><small>Last published: 2020-06-19 22:57:54 +0000.</small></p>
    </div>
  </div>
</div>

<script>
  (function () {
    const blocks = document.getElementsByClassName("collapsed");
    for (let i = 0; i < blocks.length; i++) {
      const block = blocks[i];
      const blockWrapper = document.createElement("div");
      const details = document.createElement("details");
      const summary = document.createElement("summary");
      summary.innerHTML = "Details <em>(click to expand)</em>";
      details.appendChild(summary);
      details.appendChild(blockWrapper);
      block.parentNode.insertBefore(details, block);
      blockWrapper.appendChild(block);
    }
  })();
</script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
</body>

</html>